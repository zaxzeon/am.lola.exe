-- Notify the player with a standard Roblox notification
local function notifyPlayer(title, text)
    local player = game.Players.LocalPlayer
    player:WaitForChild("PlayerGui") -- Ensure PlayerGui is loaded
    game.StarterGui:SetCore("SendNotification", {
        Title = title,
        Text = text,
        Duration = 5
    })
end

-- Function to create a welcome GUI
local function createWelcomeGUI()
    local player = game.Players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")

    -- Create ScreenGui
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "WelcomeScreen"
    screenGui.Parent = playerGui

    -- Create Frame
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0.5, 0, 0.5, 0)
    frame.Position = UDim2.new(0.25, 0, 0.25, 0)
    frame.BackgroundColor3 = Color3.new(1, 1, 1) -- White background
    frame.Parent = screenGui

    -- Create TextLabel
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 0.7, 0)
    textLabel.Text = "Welcome to the Custom Moveset Script!\nHelpers: Tokyozxc, Qaid, and Luna\nCongratulations on owner Qaid!"
    textLabel.TextColor3 = Color3.new(0, 0, 0) -- Black text
    textLabel.BackgroundTransparency = 1 -- Transparent background
    textLabel.Parent = frame

    -- Create TextButton
    local startButton = Instance.new("TextButton")
    startButton.Size = UDim2.new(0.5, 0, 0.2, 0)
    startButton.Position = UDim2.new(0.25, 0, 0.75, 0)
    startButton.Text = "Start!"
    startButton.BackgroundColor3 = Color3.new(0, 1, 0) -- Green background
    startButton.TextColor3 = Color3.new(0, 0, 0) -- Black text
    startButton.Parent = frame

    -- Button click event
    startButton.MouseButton1Click:Connect(function()
        screenGui:Destroy() -- Remove the GUI when the button is clicked
        notifyPlayer("Script Loaded", "Your moves are ready to go!") -- Notify player
    end)
end

-- Call the function to create the GUI
createWelcomeGUI()

-- Function to set move name on the hotbar
local function setMoveName(moveNumber, moveName)
    local player = game.Players.LocalPlayer
    local playerGui = player.PlayerGui
    local hotbar = playerGui:FindFirstChild("Hotbar")
    local backpack = hotbar:FindFirstChild("Backpack")
    local hotbarFrame = backpack:FindFirstChild("Hotbar")
    local baseButton = hotbarFrame:FindFirstChild(tostring(moveNumber)).Base
    local toolName = baseButton.ToolName
    toolName.Text = moveName
end

-- Set all moves' names
setMoveName(1, "Thats on me Homie")
setMoveName(2, "Stutter punches")
setMoveName(3, "Kicky")
setMoveName(4, "Uppercut")  -- Updated the name for clarity

-- Function to play animations
local function playMoveAnimation(moveId, animationId, speed, stopAfter)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    humanoid.AnimationPlayed:Connect(function(animationTrack)
        if animationTrack.Animation.AnimationId == "rbxassetid://" .. moveId then
            for _, animTrack in pairs(humanoid:GetPlayingAnimationTracks()) do
                animTrack:Stop()
            end

            local anim = Instance.new("Animation")
            anim.AnimationId = "rbxassetid://" .. animationId
            local loadedAnim = humanoid:LoadAnimation(anim)

            loadedAnim:Play()
            loadedAnim:AdjustSpeed(speed)

            if stopAfter then
                delay(stopAfter, function()
                    loadedAnim:Stop()
                end)
            end
        end
    end)
end

-- Playing animations for each move
playMoveAnimation(10468665991, 17106858586, 1.2)  -- Move 1: Kick Animation
playMoveAnimation(10466974800, 18716470698, 1)    -- Move 2
playMoveAnimation(10471336737, 93056309217564, 1)    -- Move 3
playMoveAnimation(12510170988, 507771019, 1)      -- Move 4: Uppercut Animation

-- Additional moves
playMoveAnimation(10479335397, 13294790250, 1.3, 1.8)  -- Dash
playMoveAnimation(10503381238, 14900168720, 0.7, nil)  -- Uppercut
playMoveAnimation(10470104242, 12447247483, 6, nil)    -- Downslam

-- Function to set ultimate move
local function setUltimateName(ultimateName)
    local player = game.Players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")
    local screenGui = playerGui:FindFirstChild("ScreenGui")

    if screenGui then
        local magicHealthFrame = screenGui:FindFirstChild("MagicHealth")
        if magicHealthFrame then
            local textLabel = magicHealthFrame:FindFirstChild("TextLabel")
            if textLabel then
                textLabel.Text = ultimateName
            end
        end
    end
end

-- Set ultimate name
setUltimateName("UltimateName")

-- Animation for Ult Activation
playMoveAnimation(12447707844, 17106858586, 1)  -- Ultimate Activation
